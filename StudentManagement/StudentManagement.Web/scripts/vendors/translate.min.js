angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(n){var i=n.storageKey(),t=n.storage();t?t.get(i)?n.use(t.get(i)):angular.isString(n.preferredLanguage())?n.use(n.preferredLanguage()):t.set(i,n.use()):angular.isString(n.preferredLanguage())&&n.use(n.preferredLanguage())}]);angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(n,t){return{compile:function(i){n.$on("$translateLoadingSuccess",function(){i.removeClass(t.cloakClassName())});i.addClass(t.cloakClassName())}}}]);angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(n,t,i,r,u,f){return{restrict:"AE",scope:!0,compile:function(t,e){var o=e.translateValues?e.translateValues:undefined,s=e.translateInterpolation?e.translateInterpolation:undefined,h=t[0].outerHTML.match(/translate-value-+/i);return function(t,c,l){var y,a;if(t.interpolateParams={},l.$observe("translate",function(n){t.translationId=angular.equals(n,"")||!angular.isDefined(n)?i(c.text().replace(/^\s+|\s+$/g,""))(t.$parent):n}),l.$observe("translateDefault",function(n){t.defaultText=n}),o&&l.$observe("translateValues",function(n){n&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,u(n)(t.$parent))})}),h){y=function(n){l.$observe(n,function(i){t.interpolateParams[angular.lowercase(n.substr(14,1))+n.substr(15)]=i})};for(a in l)l.hasOwnProperty(a)&&a.substr(0,14)==="translateValue"&&a!=="translateValues"&&y(a)}var v=function(t,i,u){u||typeof i.defaultText=="undefined"||(t=i.defaultText);c.html(t);var o=n.isPostCompilingEnabled(),f=typeof e.translateCompile!="undefined",s=f&&e.translateCompile!=="false";(o&&!f||s)&&r(c.contents())(i)},p=function(){return o||h?function(){var i=function(){t.translationId&&t.interpolateParams&&n(t.translationId,t.interpolateParams,s).then(function(n){v(n,t,!0)},function(n){v(n,t,!1)})};t.$watch("interpolateParams",i,!0);t.$watch("translationId",i)}:function(){var i=t.$watch("translationId",function(r){t.translationId&&r&&n(r,{},s).then(function(n){v(n,t,!0);i()},function(n){v(n,t,!1);i()})},!0)}}(),w=f.$on("$translateChangeSuccess",p);p();t.$on("$destroy",w)}}}}]);angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(n,t){return function(i,r,u){return angular.isObject(r)||(r=n(r)(this)),t.instant(i,r,u)}}]);angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(n){var t={},u,f="default",i=null,r={escaped:function(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=angular.element("<div><\/div>").text(n[t]).html());return i}},e=function(n){return angular.isFunction(r[i])?r[i](n):n};return t.setLocale=function(n){u=n},t.getInterpolationIdentifier=function(){return f},t.useSanitizeValueStrategy=function(n){return i=n,this},t.interpolate=function(t,r){return i&&(r=e(r)),n(t)(r||{})},t}]);angular.module("pascalprecht.translate").factory("$translateMissingTranslationHandlerLog",["$log",function(n){return function(t){n.warn("Translation for "+t+" doesn't exist")}}]);angular.module("pascalprecht.translate").provider("$translatePartialLoader",function(){function r(n){this.name=n;this.isActive=!0;this.tables={}}function i(t){return n.hasOwnProperty(t)}function t(n){return angular.isString(n)&&n!==""}function u(r){if(!t(r))throw new TypeError("Invalid type of a first argument, a non-empty string expected.");return i(r)&&n[r].isActive}function f(n,t){for(var i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?(n[i]=n[i]||{},f(n[i],t[i])):n[i]=t[i];return n}r.prototype.parseUrl=function(n,t){return n.replace(/\{part\}/g,this.name).replace(/\{lang\}/g,t)};r.prototype.getTable=function(n,t,i,r,u){var f=t.defer(),e;return this.tables[n]?f.resolve(this.tables[n]):(e=this,i({method:"GET",url:this.parseUrl(r,n)}).success(function(t){e.tables[n]=t;f.resolve(t)}).error(function(){u?u(e.name,n).then(function(t){e.tables[n]=t;f.resolve(t)},function(){f.reject(e.name)}):f.reject(e.name)})),f.promise};var n={};this.addPart=function(u){if(!t(u))throw new TypeError("Couldn't add part, part name has to be a string!");return i(u)||(n[u]=new r(u)),n[u].isActive=!0,this};this.setPart=function(u,f,e){if(!t(u))throw new TypeError("Couldn't set part.`lang` parameter has to be a string!");if(!t(f))throw new TypeError("Couldn't set part.`part` parameter has to be a string!");if(typeof e!="object"||e===null)throw new TypeError("Couldn't set part. `table` parameter has to be an object!");return i(f)||(n[f]=new r(f),n[f].isActive=!1),n[f].tables[u]=e,this};this.deletePart=function(r){if(!t(r))throw new TypeError("Couldn't delete part, first arg has to be string.");return i(r)&&(n[r].isActive=!1),this};this.isPartAvailable=u;this.$get=["$rootScope","$injector","$q","$http",function(e,o,s,h){var c=function(r){function v(n){a.push(n)}var u,c;if(!t(r.key))throw new TypeError("Unable to load data, a key is not a non-empty string.");if(!t(r.urlTemplate))throw new TypeError("Unable to load data, a urlTemplate is not a non-empty string.");if(u=r.loadFailureHandler,u!==undefined)if(angular.isString(u))u=o.get(u);else throw new Error("Unable to load data, a loadFailureHandler is not a string.");var l=[],a=[],e=s.defer();for(c in n)i(c)&&n[c].isActive&&l.push(n[c].getTable(r.key,s,h,r.urlTemplate,u).then(v));return l.length?s.all(l).then(function(){for(var t={},n=0;n<a.length;n++)f(t,a[n]);e.resolve(t)},function(){e.reject(r.key)}):e.resolve({}),e.promise};return c.addPart=function(u){if(!t(u))throw new TypeError("Couldn't add part, first arg has to be a string");return i(u)?n[u].isActive||(n[u].isActive=!0,e.$emit("$translatePartialLoaderStructureChanged",u)):(n[u]=new r(u),e.$emit("$translatePartialLoaderStructureChanged",u)),c},c.deletePart=function(r,u){if(!t(r))throw new TypeError("Couldn't delete part, first arg has to be string");if(u===undefined)u=!1;else if(typeof u!="boolean")throw new TypeError("Invalid type of a second argument, a boolean expected.");if(i(r)){var f=n[r].isActive;u?delete n[r]:n[r].isActive=!1;f&&e.$emit("$translatePartialLoaderStructureChanged",r)}return c},c.isPartAvailable=u,c}]});angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(n,t){return function(i){if(!i||!angular.isString(i.prefix)||!angular.isString(i.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var r=n.defer();return t({url:[i.prefix,i.key,i.suffix].join(""),method:"GET",params:""}).success(function(n){r.resolve(n)}).error(function(){r.reject(i.key)}),r.promise}}]);angular.module("pascalprecht.translate").factory("$translateUrlLoader",["$q","$http",function(n,t){return function(i){if(!i||!i.url)throw new Error("Couldn't use urlLoader since no url is given!");var r=n.defer();return t({url:i.url,params:{lang:i.key},method:"GET"}).success(function(n){r.resolve(n)}).error(function(){r.reject(i.key)}),r.promise}}]);angular.module("pascalprecht.translate").constant("TRANSLATE_MF_INTERPOLATION_CACHE","$translateMessageFormatInterpolation").factory("$translateMessageFormatInterpolation",function(n,t){var u={},i=n.get(t),r=new MessageFormat,o="messageformat",f=null,e={escaped:function(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=angular.element("<div><\/div>").text(n[t]).html());return i}},s=function(n){return angular.isFunction(e[f])?e[f](n):n};return i||(i=n(t)),i.put("en",r),u.setLocale=function(n){r=i.get(n);r||(r=new MessageFormat(n),i.put(n,r))},u.getInterpolationIdentifier=function(){return o},u.useSanitizeValueStrategy=function(n){return f=n,this},u.interpolate=function(n,t){t=t||{};f&&(t=s(t));var u=i.get(n+angular.toJson(t));return u||(u=r.compile(n)(t),i.put(n+angular.toJson(t),u)),u},u});angular.module("pascalprecht.translate").factory("$translateCookieStorage",["$cookieStore",function(n){return{get:function(t){return n.get(t)},set:function(t,i){n.put(t,i)}}}]);angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY");angular.module("pascalprecht.translate").factory("$translateLocalStorage",["$window","$translateCookieStorage",function(n,t){var u=function(){var t;return{get:function(i){return t||(t=n.localStorage.getItem(i)),t},set:function(i,r){t=r;n.localStorage.setItem(i,r)}}}(),i="localStorage"in n&&n.localStorage!==null,r;if(i){r="pascalprecht.translate.storageTest";try{n.localStorage.setItem(r,"foo");n.localStorage.removeItem(r)}catch(f){i=!1}}return i?u:t}]);angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(n){var r={},u,s=[],h,t,v,i,c,o,y=n,b,f,rt,k=[],d=!1,e,g="translate-cloak",ut,p,w,ft=!1,nt=".",ot=function(){var n=window.navigator;return(n.language||n.browserLanguage||n.systemLanguage||n.userLanguage||"").split("-").join("_")},et=function(n){for(var i=[],c=angular.lowercase(n),u=0,l=s.length,f,t,e,o,r;u<l;u++)i.push(angular.lowercase(s[u]));if(i.indexOf(c)>-1)return n;if(h)for(t in h)if(e=!1,o=h.hasOwnProperty(t)&&angular.lowercase(t)===angular.lowercase(n),t.slice(-1)==="*"&&(e=t.slice(0,-1)===n.slice(0,t.length-1)),(o||e)&&(f=h[t],i.indexOf(angular.lowercase(f))>-1))return f;return(r=n.split("_"),r.length>1&&i.indexOf(angular.lowercase(r[0]))>-1)?r[0]:n},l=function(n,t){if(!n&&!t)return r;if(n&&!t){if(angular.isString(n))return r[n]}else angular.isObject(r[n])||(r[n]={}),angular.extend(r[n],a(t));return this},a,tt,it;this.translations=l;this.cloakClassName=function(n){return n?(g=n,this):g};a=function(n,t,i,r){var u,e,o,f;t||(t=[]);i||(i={});for(u in n)n.hasOwnProperty(u)&&(f=n[u],angular.isObject(f)?a(f,t.concat(u),i,u):(e=t.length?""+t.join(nt)+nt+u:u,t.length&&u===r&&(o=""+t.join(nt),i[o]="@:"+e),i[e]=f));return i};this.addInterpolation=function(n){return k.push(n),this};this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")};this.useInterpolation=function(n){return rt=n,this};this.useSanitizeValueStrategy=function(n){return d=n,this};this.preferredLanguage=function(n){return n?(u=n,this):u};this.translationNotFoundIndicator=function(n){return this.translationNotFoundIndicatorLeft(n),this.translationNotFoundIndicatorRight(n),this};this.translationNotFoundIndicatorLeft=function(n){return n?(p=n,this):p};this.translationNotFoundIndicatorRight=function(n){return n?(w=n,this):w};this.fallbackLanguage=function(n){return tt(n),this};tt=function(n){return n?(angular.isString(n)?(v=!0,t=[n]):angular.isArray(n)&&(v=!1,t=n),angular.isString(u)&&t.push(u),this):v?t[0]:t};this.use=function(n){if(n){if(!r[n]&&!e)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+n+"'");return i=n,this}return i};it=function(n){if(!n)return b?b+y:y;y=n};this.storageKey=it;this.useUrlLoader=function(n){return this.useLoader("$translateUrlLoader",{url:n})};this.useStaticFilesLoader=function(n){return this.useLoader("$translateStaticFilesLoader",n)};this.useLoader=function(n,t){return e=n,ut=t||{},this};this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")};this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")};this.useStorage=function(n){return o=n,this};this.storagePrefix=function(n){return n?(b=n,this):n};this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")};this.useMissingTranslationHandler=function(n){return f=n,this};this.usePostCompiling=function(n){return ft=!!n,this};this.determinePreferredLanguage=function(n){var t=n&&angular.isFunction(n)?n():ot();return u=s.length?et(t):t,this};this.registerAvailableLanguageKeys=function(n,t){return n?(s=n,t&&(h=t),this):s};this.$get=["$log","$injector","$rootScope","$q",function(n,s,h,b){var st,lt=s.get(rt||"$translateDefaultInterpolation"),at=!1,vt={},ot={},yt,ht,nt=function(n,r,f){var h,e,s;return angular.isArray(n)?(h=function(n){for(var i={},u=[],e=function(n){var t=b.defer(),u=function(r){i[n]=r;t.resolve([n,r])};return nt(n,r,f).then(u,u),t.promise},t=0,o=n.length;t<o;t++)u.push(e(n[t]));return b.all(u).then(function(){return i})},h(n)):(e=b.defer(),n&&(n=n.trim()),s=function(){var n=u?ot[u]:ot[i],r,f;return yt=0,o&&!n&&(r=st.get(y),n=ot[r],t&&t.length&&(f=kt(t,r),yt=f>-1?f+=1:0,t.push(u))),n}(),s?s.then(function(){ni(n,r,f).then(e.resolve,e.reject)},e.reject):ni(n,r,f).then(e.resolve,e.reject),e.promise)},kt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},bt=function(n){return p&&(n=[p,n].join(" ")),w&&(n=[n,w].join(" ")),n},wt=function(n){i=n;h.$emit("$translateChangeSuccess");o&&st.set(nt.storageKey(),i);lt.setLocale(i);angular.forEach(vt,function(n,t){vt[t].setLocale(i)});h.$emit("$translateChangeEnd")},ct=function(n){if(!n)throw"No language key specified for loading.";var t=b.defer();return h.$emit("$translateLoadingStart"),at=!0,s.get(e)(angular.extend(ut,{key:n})).then(function(i){var r={};h.$emit("$translateLoadingSuccess");angular.isArray(i)?angular.forEach(i,function(n){angular.extend(r,a(n))}):angular.extend(r,a(i));at=!1;t.resolve({key:n,table:r});h.$emit("$translateLoadingEnd")},function(n){h.$emit("$translateLoadingError");t.reject(n);h.$emit("$translateLoadingEnd")}),t.promise},pt,ii;if(o&&(st=s.get(o),!st.get||!st.set))throw new Error("Couldn't use storage '"+o+"', missing get() or set() method!");angular.isFunction(lt.useSanitizeValueStrategy)&&lt.useSanitizeValueStrategy(d);k.length&&angular.forEach(k,function(n){var t=s.get(n);t.setLocale(u||i);angular.isFunction(t.useSanitizeValueStrategy)&&t.useSanitizeValueStrategy(d);vt[t.getInterpolationIdentifier()]=t});var ri=function(n){var t=b.defer();return r.hasOwnProperty(n)?(t.resolve(r[n]),t.promise):(ot[n].then(function(n){l(n.key,n.table);t.resolve(n.table)},t.reject),t.promise)},ui=function(n,t,r,u){var f=b.defer();return ri(n).then(function(e){e.hasOwnProperty(t)?(u.setLocale(n),f.resolve(u.interpolate(e[t],r)),u.setLocale(i)):f.reject()},f.reject),f.promise},fi=function(n,t,u,f){var e,o=r[n];return o.hasOwnProperty(t)&&(f.setLocale(n),e=f.interpolate(o[t],u),f.setLocale(i)),e},dt=function(n,r,u,e){var o=b.defer(),c,h;return n<t.length?(c=t[n],ui(c,r,u,e).then(function(n){o.resolve(n)},function(){var t=dt(n+1,r,u,e);o.resolve(t)})):f?(h=s.get(f)(r,i),h!==undefined?o.resolve(h):o.resolve(r)):o.resolve(r),o.promise},gt=function(n,i,r,u){var f,e;return n<t.length&&(e=t[n],f=fi(e,i,r,u),f||(f=gt(n+1,i,r,u))),f},ei=function(n,t,i){return dt(ht>0?ht:yt,n,t,i)},oi=function(n,t,i){return gt(ht>0?ht:yt,n,t,i)},ni=function(n,u,e){var o=b.defer(),c=i?r[i]:r,l=e?vt[e]:lt,h;return c&&c.hasOwnProperty(n)?(h=c[n],h.substr(0,2)==="@:"?nt(h.substr(2),u,e).then(o.resolve,o.reject):o.resolve(l.interpolate(h,u))):(f&&!at&&s.get(f)(n,i),i&&t&&t.length?ei(n,u,l).then(function(n){o.resolve(n)},function(n){o.reject(bt(n))}):o.reject(bt(n))),o.promise},ti=function(n,u,e){var o,c=i?r[i]:r,l=e?vt[e]:lt,h;return c&&c.hasOwnProperty(n)?(h=c[n],o=h.substr(0,2)==="@:"?ti(h.substr(2),u,e):l.interpolate(h,u)):(f&&!at&&s.get(f)(n,i),i&&t&&t.length?(yt=0,o=oi(n,u,l)):o=bt(n)),o};if(nt.preferredLanguage=function(){return u},nt.cloakClassName=function(){return g},nt.fallbackLanguage=function(n){if(n!==undefined&&n!==null){if(tt(n),e&&t&&t.length)for(var i=0,r=t.length;i<r;i++)ot[t[i]]||(ot[t[i]]=ct(t[i]));nt.use(nt.use())}return v?t[0]:t},nt.useFallbackLanguage=function(n){if(n!==undefined&&n!==null)if(n){var i=kt(t,n);i>-1&&(ht=i)}else ht=0},nt.proposedLanguage=function(){return c},nt.storage=function(){return st},nt.use=function(n){var t,u;return n?(t=b.defer(),h.$emit("$translateChangeStart"),u=et(n),u&&(n=u),!r[n]&&e?(c=n,ot[n]=ct(n).then(function(i){l(i.key,i.table);t.resolve(i.key);c===n&&(wt(i.key),c=undefined)},function(n){c=undefined;h.$emit("$translateChangeError");t.reject(n);h.$emit("$translateChangeEnd")})):(t.resolve(n),wt(n)),t.promise):i},nt.storageKey=function(){return it()},nt.isPostCompilingEnabled=function(){return ft},nt.refresh=function(n){function s(){u.resolve();h.$emit("$translateRefreshEnd")}function c(){u.reject();h.$emit("$translateRefreshEnd")}var u,f,o,a;if(!e)throw new Error("Couldn't refresh translation table, no loader registered!");if(u=b.defer(),h.$emit("$translateRefreshStart"),n)r[n]?ct(n).then(function(t){l(t.key,t.table);n===i&&wt(i);s()},c):c();else{if(f=[],t&&t.length)for(o=0,a=t.length;o<a;o++)f.push(ct(t[o]));i&&f.push(ct(i));b.all(f).then(function(n){angular.forEach(n,function(n){r[n.key]&&delete r[n.key];l(n.key,n.table)});i&&wt(i);s()})}return u.promise},nt.instant=function(n,e,o){var v,l,p,c,h,a,w,y;if(n===null||angular.isUndefined(n))return n;if(angular.isArray(n)){for(v={},l=0,p=n.length;l<p;l++)v[n[l]]=nt.instant(n[l],e,o);return v}if(angular.isString(n)&&n.length<1)return n;for(n&&(n=n.trim()),h=[],u&&h.push(u),i&&h.push(i),t&&t.length&&(h=h.concat(t)),a=0,w=h.length;a<w;a++)if(y=h[a],r[y]&&typeof r[y][n]!="undefined"&&(c=ti(n,e,o)),typeof c!="undefined")break;return c||c===""||(c=n,f&&!at&&s.get(f)(n,i)),c},e&&(angular.equals(r,{})&&nt.use(nt.use()),t&&t.length))for(pt=0,ii=t.length;pt<ii;pt++)ot[t[pt]]=ct(t[pt]);return nt}]}]);